# ThreadPool基于可变模版实现的线程池
## 项目介绍
作为五大池之一(**内存池、连接池、线程池、进程池、协程池**)，线程池的应用非常广泛，不管是客户端程序还是后台服务程序，线程池都是提高业务处理能力的必备模块。有很多开源的线程池实现，虽然各自接口使用上稍有区别，但是其核心实现的原理都是基本相同的。


## 线程池
### 线程的消耗
线程的创建非越多越好
- 线程的创建和销毁都是非常"重"的操作
- 线程栈本身占用大量内存
- 线程的上下文切换要占用大量时间
- 大量线程同时唤醒会使系统经常出现锯齿状负载或者瞬间负载量很大导致宕机

### 线程池的优势
操作系统上创建线程和销毁线程都是很"重"的操作，耗时耗性能都比较多，那么在服务执行的过程中，如果业务量比较大，实时的去创建线程、执行业务、业务完成后销毁线程，那么会导致系统的实时性能降低，业务的处理能力也会降低。

线程池的优势就是（每个池都有自己的优势），在服务进程启动之初，就事先创建好线程池里面的线程，当业务流量到来时需要分配线程，直接从线程池中获取一个空闲线程执行task任务即可，task执行完成后，也不用释放线程，而是把线程归还到线程池中继续给后续的task提供服务。

## 线程池模式
## fixed模式线程池
线程池里面的线程数量个数是固定不变的，一般是ThreadPool创建时根据当前机器的CPU核数来指定的。
## cached模式线程池
线程池里面的线程数量是可动态增长的,根据任务的数量动态的增加线程的数量，但是会设置一个线程数量的阈值，任务处理完成后，如果动态增长的线程空闲大于阈值，那么线程池就会回收线程，保持池中最初数量的线程即可。